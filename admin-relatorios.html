<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relatórios - Admin DrogaFast</title>

    <link href="https://fonts.googleapis.com/css2?family=Funnel+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/variables.css" />
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="icon" href="img/page_icon.ico" type="image/x-icon" />
  </head>
  <body>
    <div class="dashboard__wrapper">
      <!-- Sidebar -->
      <aside class="dashboard__sidebar">
        <div class="dashboard__logo">
          <h1>DrogaFast Admin</h1>
        </div>
        
        <nav class="dashboard__nav">
          <a href="dashboard.html" class="dashboard__nav-item">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" fill="currentColor"></path>
            </svg>
            <span>Dashboard</span>
          </a>
          <a href="admin-pedidos.html" class="dashboard__nav-item">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-1-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.16.12-.33.12-.5 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" fill="currentColor"></path>
            </svg>
            <span>Pedidos</span>
          </a>
          <a href="admin-produtos.html" class="dashboard__nav-item">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path>
            </svg>
            <span>Produtos</span>
          </a>
          <a href="admin-usuarios.html" class="dashboard__nav-item">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="currentColor"></path>
            </svg>
            <span>Usuários</span>
          </a>
          <a href="admin-relatorios.html" class="dashboard__nav-item dashboard__nav-item--active">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M3 13h2v8H3zm4-8h2v16H7zm4-2h2v18h-2zm4 4h2v14h-2zm4-4h2v18h-2z" fill="currentColor"></path>
            </svg>
            <span>Relatórios</span>
          </a>
          <a href="admin-configuracoes.html" class="dashboard__nav-item">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" fill="currentColor"></path>
            </svg>
            <span>Configurações</span>
          </a>
        </nav>

        <div class="dashboard__sidebar-footer">
          <button class="dashboard__logout" onclick="window.location.href='index.html'">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z" fill="currentColor"></path>
            </svg>
            Sair
          </button>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="dashboard__main">
        <header class="dashboard__header">
          <h1 class="dashboard__page-title">Relatórios</h1>
          <div class="dashboard__header-right">
            <button class="dashboard__btn-add" type="button" onclick="exportReport()">
              <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2z"></path>
                <path d="M11 3L5.5 8.5l1.42 1.41L11 5.83v9.17h2V5.83l4.08 4.08L18.5 8.5z"></path>
              </svg>
              Exportar
            </button>
          </div>
        </header>

        <div class="dashboard__content">
          <!-- Filtros -->
          <div class="dashboard__report-filters">
            <div class="filter-group">
              <label for="filterPeriod">Período:</label>
              <select id="filterPeriod" onchange="updateReport()">
                <option value="7">Últimos 7 dias</option>
                <option value="30" selected>Últimos 30 dias</option>
                <option value="90">Últimos 90 dias</option>
                <option value="365">Últimos 12 meses</option>
                <option value="custom">Período customizado</option>
              </select>
            </div>

            <div class="filter-group">
              <label for="filterCategory">Categoria:</label>
              <select id="filterCategory" onchange="updateReport()">
                <option value="">Todas</option>
                <option value="medicamentos">Medicamentos</option>
                <option value="suplementos">Suplementos</option>
                <option value="higiene">Higiene</option>
                <option value="cosmeticos">Cosméticos</option>
              </select>
            </div>
          </div>

          <!-- Summary Cards -->
          <div class="dashboard__stats">
            <div class="dashboard__stat-card">
              <div class="dashboard__stat-label">Faturamento Total</div>
              <div class="dashboard__stat-value" style="color: #4CAF50;">R$ 29.850,00</div>
            </div>

            <div class="dashboard__stat-card">
              <div class="dashboard__stat-label">Total de Pedidos</div>
              <div class="dashboard__stat-value" style="color: #2196F3;">1.248</div>
              <div class="dashboard__stat-change positive">+8.3% vs. período anterior</div>
            </div>

            <div class="dashboard__stat-card">
              <div class="dashboard__stat-label">Ticket Médio</div>
              <div class="dashboard__stat-value" style="color: #FF9800;">R$ 129,90</div>
              <div class="dashboard__stat-change positive">+3.2% vs. período anterior</div>
            </div>

            <div class="dashboard__stat-card">
              <div class="dashboard__stat-label">Taxa de Conversão</div>
              <div class="dashboard__stat-value" style="color: #9C27B0;">7,15%</div>
              <div class="dashboard__stat-change negative">-1.1% vs. período anterior</div>
            </div>
          </div>

          <!-- Charts Section -->
          <div class="dashboard__charts-row">
            <!-- Revenue Chart -->
            <section class="dashboard__chart-container">
              <h3 class="dashboard__section-title">Faturamento por Período</h3>
              <canvas id="revenueChart"></canvas>
            </section>

            <!-- Category Chart -->
            <section class="dashboard__chart-container">
              <h3 class="dashboard__section-title">Vendas por Categoria</h3>
              <canvas id="categoryChart"></canvas>
            </section>
          </div>

          <!-- Top Products Table -->
          <section class="dashboard__report-table">
            <h3 class="dashboard__section-title">Produtos Mais Vendidos</h3>
            <div class="dashboard__table-container">
              <table class="dashboard__table">
                <thead>
                  <tr>
                    <th>Posição</th>
                    <th>Produto</th>
                    <th>Categoria</th>
                    <th>Quantidade</th>
                    <th>Faturamento</th>
                    <th>Margem</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1º</td>
                    <td>Fralda Pampers 50un</td>
                    <td>Higiene</td>
                    <td>156 un</td>
                    <td>R$ 20.254,40</td>
                    <td><span class="margin-badge" style="background: #c8e6c9; color: #2e7d32;">45%</span></td>
                  </tr>
                  <tr>
                    <td>2º</td>
                    <td>Fralda Pampers 50un</td>
                    <td>Higiene</td>
                    <td>45 un</td>
                    <td>R$ 5.845,50</td>
                    <td><span class="margin-badge" style="background: #c8e6c9; color: #2e7d32;">52%</span></td>
                  </tr>
                  <tr>
                    <td>3º</td>
                    <td>Fralda Pampers 50un</td>
                    <td>Higiene</td>
                    <td>23 un</td>
                    <td>R$ 2.987,70</td>
                    <td><span class="margin-badge" style="background: #fff9c4; color: #f57f17;">38%</span></td>
                  </tr>
                  <tr>
                    <td>4º</td>
                    <td>Fralda Pampers 50un</td>
                    <td>Higiene</td>
                    <td>6 un</td>
                    <td>R$ 779,40</td>
                    <td><span class="margin-badge" style="background: #c8e6c9; color: #2e7d32;">48%</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <!-- Customer Metrics -->
          <section class="dashboard__metrics-grid">
            <h3 class="dashboard__section-title">Métricas de Clientes</h3>
            <div class="metrics-container">
              <div class="metric-card">
                <div class="metric-label">Clientes Novos</div>
                <div class="metric-value">156</div>
                <div class="metric-detail">Aumentou 15% vs. período anterior</div>
              </div>
              <div class="metric-card">
                <div class="metric-label">Clientes Ativos</div>
                <div class="metric-value">892</div>
                <div class="metric-detail">Manteve o mesmo nível</div>
              </div>
              <div class="metric-card">
                <div class="metric-label">Taxa de Retenção</div>
                <div class="metric-value">71%</div>
                <div class="metric-detail">Aumentou 2% vs. período anterior</div>
              </div>
              <div class="metric-card">
                <div class="metric-label">Ticket Médio Novo</div>
                <div class="metric-value">R$ 129,90</div>
                <div class="metric-detail">Aumentou 8% vs. período anterior</div>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
      // Revenue Chart
      const revenueCtx = document.getElementById('revenueChart').getContext('2d');
      new Chart(revenueCtx, {
        type: 'line',
        data: {
          labels: ['1-5', '6-10', '11-15', '16-20', '21-25', '26-30'],
          datasets: [{
            label: 'Faturamento (R$)',
            data: [3890, 4670, 5245, 6180, 5420, 4445],
            borderColor: '#00D0FD',
            backgroundColor: 'rgba(0, 208, 253, 0.1)',
            borderWidth: 3,
            tension: 0.4,
            fill: true,
            pointBackgroundColor: '#00D0FD',
            pointBorderColor: '#fff',
            pointBorderWidth: 2,
            pointRadius: 5,
            pointHoverRadius: 7
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: { display: false }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: { color: 'rgba(0, 0, 0, 0.05)' },
              ticks: { callback: function(value) { return 'R$ ' + value; } }
            },
            x: {
              grid: { display: false }
            }
          }
        }
      });

      // Category Chart
      const categoryCtx = document.getElementById('categoryChart').getContext('2d');
      new Chart(categoryCtx, {
        type: 'doughnut',
        data: {
          labels: ['Higiene', 'Suplementos', 'Medicamentos', 'Cosméticos'],
          datasets: [{
            data: [100, 0, 0, 0],
            backgroundColor: [
              '#4CAF50',
              '#2196F3',
              '#FF9800',
              '#9C27B0'
            ],
            borderColor: '#fff',
            borderWidth: 2
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: { position: 'bottom' }
          }
        }
      });

      function updateReport() {
        alert('Relatório atualizado com os filtros selecionados!');
      }

      function exportReport() {
        alert('Relatório será exportado em formato CSV/PDF');
      }
    </script>
  </body>
</html>
